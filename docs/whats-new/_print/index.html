<!doctype html><html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name="generator" content="Hugo 0.110.0">
<link rel="canonical" type="text/html" href="https://kube-logging.dev/docs/whats-new/">
<link rel="alternate" type="text/releases" href="https://kube-logging.dev/docs/whats-new/releases.releases">
<meta name="robots" content="noindex, nofollow">
<link rel="shortcut icon" href="/favicons/favicon.ico">
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">
<title>What's new | Logging operator</title><meta name="description" content="Documentation for the Logging operator">
<meta property="og:title" content="What's new">
<meta property="og:description" content="Documentation for the Logging operator">
<meta property="og:type" content="website">
<meta property="og:url" content="https://kube-logging.dev/docs/whats-new/"><meta property="og:site_name" content="Logging operator">
<meta itemprop="name" content="What's new">
<meta itemprop="description" content="Documentation for the Logging operator"><meta name="twitter:card" content="summary">
<meta name="twitter:title" content="What's new">
<meta name="twitter:description" content="Documentation for the Logging operator">
<meta name="twitter:site" content="@calisti12">
<link rel="preload" href="/scss/main.min.d20db6d79e80313ee4aa9c44648bc3348ea0b541c8d2ecc5ca8b144682beb4f8.css" as="style">
<link href="/scss/main.min.d20db6d79e80313ee4aa9c44648bc3348ea0b541c8d2ecc5ca8b144682beb4f8.css" rel="stylesheet" integrity>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK" crossorigin="anonymous"></script>
<link rel="stylesheet" href="/css/prism.css">
<script src="/js/w3.js" type="application/x-javascript"></script>
<link rel="canonical" href="https://kube-logging.dev/docs/whats-new/">
<script src="/pagefind/pagefind-highlight.js" type="application/x-javascript"></script>
<script type="module">
        await import('/pagefind/pagefind-highlight.js');
        new PagefindHighlight({ highlightParam: "highlight" });
    </script>
</head><body class="td-section">
<header>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
<a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"><svg viewBox="0 0 3237.738 490.023" id="svg142" sodipodi:docname="logo-new2.svg" inkscape:version="1.2.1 (9c6d41e4, 2022-07-14)" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><defs id="defs146"/><sodipodi:namedview id="namedview144" pagecolor="#505050" bordercolor="#ffffff" borderopacity="1" inkscape:showpageshadow="0" inkscape:pageopacity="0" inkscape:pagecheckerboard="1" inkscape:deskcolor="#505050" showgrid="false" inkscape:zoom=".37340884" inkscape:cx="1620.208" inkscape:cy="243.70071" inkscape:window-width="705" inkscape:window-height="480" inkscape:window-x="0" inkscape:window-y="25" inkscape:window-maximized="0" inkscape:current-layer="svg142"/><g id="Group_2068" data-name="Group 2068" transform="translate(-43577.297 -34456.625)"><g id="Group_2067" data-name="Group 2067" transform="translate(27723.789 24565.273)"><path id="Path_4217" data-name="Path 4217" d="M47842.219 34024.414l-276.027 475.07h71.242l240.227-414.1z" transform="translate(-31703.996 -24123.111)" fill="#d6d7d9" stroke="#d6d7d9" stroke-width="10"/><path id="Path_4218" data-name="Path 4218" d="M47831.324 34080.781l166.754 287.355h-333.035z" transform="translate(-31640.254 -24086.76)" fill="#fff" stroke="#fff" stroke-width="10"/><path id="Path_4220" data-name="Path 4220" d="M47668.742 34274.2l-37.727 64.1h442.43l-37.156-64.1z" transform="translate(-31662.199 -23962.018)" fill="#d6d7d9" stroke="#d6d7d9" stroke-width="10"/><path id="Path_4222" data-name="Path 4222" d="M11294.989 10157.944l311.97-.01-156.218-269.074-78.621 135.83z" transform="translate(4740.338 117.39)" fill="#fff"/><path id="Path_4224" data-name="Path 4224" d="M47787.594 34159.125l-54.391 93.035h108.039z" transform="translate(-31596.297 -24036.238)" fill="#13142c" stroke="#13132d" stroke-width="10"/></g><text id="Logging_Operator" data-name="Logging Operator" transform="translate(45475.035 34799.609)" fill="#fff" font-size="267" font-family="Montserrat-Bold, Montserrat" font-weight="700" letter-spacing=".046em"><tspan x="-1339.806" y="0" id="tspan138">Logging Operator</tspan></text></g></svg></span><span class="navbar-brand__name">Logging operator</span>
<span class="font-weight-bold navbar-logo navbar-version">4.5.1</span></a>
<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
<ul class="navbar-nav mt-2 mt-lg-0">
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link" href="https://github.com/kube-logging/logging-operator" title="Go to GitHub project page" target="_blank"><span>Project page</span></a>
</li><li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link" href="/docs/" title="Read the documentation"><span>Documentation</span></a>
</li><li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link" href="/docs/community/" title="Come chat with us!"><span>Community</span></a>
</li><li class="nav-item dropdown mr-4 d-none d-lg-block">
<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
Releases
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
<div w3-include-html="/docs/whats-new//releases.releases" w3-include-html-default='<a class="dropdown-item" href="/docs/releases.releases">Latest</a>'></div><script type="application/x-javascript">w3.includeHTML()</script>
</div></li></ul></div><div class="navbar-nav d-none d-lg-block">
<div class="main-menu-search">
<a href="/search">
<span class="nav-link"><i class="fa fa-search" aria-hidden="true"></i> Search</span>
</a>
</div></div></nav></header><div class="container-fluid td-outer">
<div class="td-main">
<div class="row flex-xl-nowrap">
<main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="return print(),!1">Click here to print</a>.
</p><p>
<a href="/docs/whats-new/">Return to the regular view of this page</a>.
</p></div><h1 class="title">What's new</h1><ul>
</ul><div class="content">
<h2 id="version-45">Version 4.5</h2><p>The following are the highlights and main changes of Logging operator 4.5. For a complete list of changes and bugfixes, see the <a href="https://github.com/kube-logging/logging-operator/releases/tag/4.5.0">Logging operator 4.5 releases page</a>.</p><h2 id="standalone-fluentdconfig-and-syslogngconfig-crds">Standalone FluentdConfig and SyslogNGConfig CRDs</h2><p>Starting with Logging operator version 4.5, you can either configure Fluentd in the <code>Logging</code> CR, or you can use a standalone <code>FluentdConfig</code> CR. Similarly, you can use a standalone <code>SyslogNGConfig</code> CRD to configure syslog-ng.</p><p>These standalone CRDs are namespaced resources that allow you to configure the Fluentd/syslog-ng aggregator in the control namespace, separately from the Logging resource. That way you can use a multi-tenant model, where tenant owners are responsible for operating their own aggregator, while the Logging resource is in control of the central operations team.</p><p>For details, see <a href="/docs/logging-infrastructure/fluentd/">Configure Fluentd</a> and <a href="/docs/logging-infrastructure/syslog-ng/">Configure syslog-ng</a>.</p><h3 id="new-syslog-ng-features">New syslog-ng features</h3><p>When using syslog-ng as the log aggregator, you can now:</p><ul>
<li>Send data to <a href="/docs/configuration/plugins/syslog-ng-outputs/openobserve/">OpenObserve</a></li><li>Use a <a href="/docs/examples/date-parser/">custom date-parser</a></li><li>Create <a href="/docs/examples/custom-syslog-ng-metrics/">custom log metrics for sources and outputs</a></li><li>Set the permitted <a href="/docs/configuration/plugins/syslog-ng-outputs/tls/#tls-ssl_version">SSL versions in HTTP based outputs</a></li><li>Configure the <a href="/docs/configuration/crds/v1beta1/syslogng_types/#syslogngspec-maxconnections">maxConnections parameter of the sources</a></li></ul><h3 id="new-fluentd-features">New Fluentd features</h3><p>When using Fluentd as the log aggregator, you can now:</p><ul>
<li>Use the <a href="/docs/configuration/plugins/filters/useragent/">useragent Fluent filter</a></li><li>Configure <a href="/docs/configuration/crds/v1beta1/fluentd_types/#fluentdspec-sidecarcontainers">sidecar container in Fluentd pods</a></li><li>Configure the <a href="/docs/configuration/crds/v1beta1/fluentd_types/#fluentdspec-sidecarcontainers#fluentddrainconfig-securitycontext">security-context of every container</a></li><li>Set which <a href="/docs/configuration/plugins/outputs/azurestore/#output-config-azure_cloud">Azure Cloud to use</a> (for example, AzurePublicCloud), when using the Azure Storage output</li><li>Customize the <code>image</code> to use in <a href="/docs/configuration/crds/extensions/">event and host tailers</a></li></ul><h2 id="other-changes">Other changes</h2><ul>
<li>LoggingStatus now includes the number (problemsCount) and the related watchNamespaces to help troubleshooting</li></ul><h3 id="image-and-dependency-updates">Image and dependency updates</h3><p>For the list of images used in Logging operator, see <a href="/docs/image-versions/">Images used by Logging operator</a>.</p><h2 id="version-44">Version 4.4</h2><p>The following are the highlights and main changes of Logging operator 4.4. For a complete list of changes and bugfixes, see the <a href="https://github.com/kube-logging/logging-operator/releases/tag/4.4.0">Logging operator 4.4 releases page</a>.</p><h3 id="new-syslog-ng-features-1">New syslog-ng features</h3><p>When using syslog-ng as the log aggregator, you can now use the following new outputs:</p><ul>
<li><a href="/docs/configuration/plugins/syslog-ng-outputs/elasticsearch/">ElasticSearch</a></li><li><a href="/docs/configuration/plugins/syslog-ng-outputs/loki/">Grafana Loki</a></li><li><a href="/docs/configuration/plugins/syslog-ng-outputs/mongodb/">MongoDB</a></li><li><a href="/docs/configuration/plugins/syslog-ng-outputs/redis/">Redis</a></li><li><a href="/docs/configuration/plugins/syslog-ng-outputs/s3/">Amazon S3</a></li><li><a href="/docs/configuration/plugins/syslog-ng-outputs/splunk_hec/">Splunk HEC</a></li><li>The <a href="/docs/configuration/plugins/syslog-ng-outputs/http/">HTTP</a> output now supports the <code>log-fifo-size</code>, <code>response-action</code>, and <code>timeout</code> fields.</li></ul><p>You can now use the <code>metrics-probe()</code> parser of syslog-ng in syslogNGFLow and SyslogNGClusterFlow. For details, see <a href="/docs/configuration/plugins/syslog-ng-filters/parser/#metricsprobe">MetricsProbe</a>.</p><h3 id="multitenancy-with-namespace-based-routing">Multitenancy with namespace-based routing</h3><p>Logging operator now supports namespace based routing for efficient aggregator-level multi-tenancy.</p><p>In the project repository you can:</p><ul>
<li>find an <a href="https://github.com/kube-logging/logging-operator/blob/master/docs/multi-tenancy.md">overview about multitenancy</a>.</li><li>find more detailed information about the new <a href="https://github.com/kube-logging/logging-operator/blob/master/docs/logging-route.md">LoggingRoute</a> resource that enables this new behaviour.</li><li>find a <a href="https://github.com/kube-logging/logging-operator/tree/master/config/samples/multitenant-routing">simple example</a> to demonstrate the new behaviour</li></ul><p>On a side note, nodegroup level isolation for hard multitenancy is also supported, see the <a href="/docs/examples/multitenancy/">Nodegroup-based multitenancy</a> example.</p><h3 id="forwarder-logs">Forwarder logs</h3><p>Fluent-bit now doesn&rsquo;t process the logs of the Fluentd and syslog-ng forwarders by default to avoid infinitely growing message loops. With this change, you can access Fluentd and syslog-ng logs simply by running <code>kubectl logs &lt;name-of-forwarder-pod></code></p><p>In a future Logging operator version the logs of the aggregators will also be available for routing to external outputs.</p><h3 id="timeout-based-configuration-checks">Timeout-based configuration checks</h3><p>Timeout-based configuration checks are different from the normal method: they start a Fluentd or syslog-ng instance
without the dry-run or syntax-check flags, so output plugins or destination drivers actually try to establish
connections and will fail if there are any issues , for example, with the credentials.</p><p>Add the following to you <code>Logging</code> resource spec:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">configCheck</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">strategy</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">StartWithTimeout</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">timeoutSeconds</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">5</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h3 id="istio-support">Istio support</h3><p>For jobs/individual pods that run to completion, Istio sidecar injection needs to be disabled, otherwise the affected pods would live forever with the running sidecar container. Configuration checkers and Fluentd drainer pods can be configured with the label <code>sidecar.istio.io/inject</code> set to <code>false</code>. You can configure Fluentd drainer labels in the Logging spec.</p><h3 id="improved-buffer-metrics">Improved buffer metrics</h3><p>The buffer metrics are now available for both the Fluentd and the SyslogNG based aggregators.</p><p>The sidecar configuration has been rewritten to add a new metric and improve performance by avoiding unnecessary cardinality.</p><p>The name of the metric has been changed as well, but the original metric was kept in place to avoid breaking existing clients.</p><p><strong>Metrics currently supported by the sidecar</strong></p><p>Old</p><pre tabindex="0"><code>+# HELP node_buffer_size_bytes Disk space used [deprecated]
+# TYPE node_buffer_size_bytes gauge
+node_buffer_size_bytes{entity=&#34;/buffers&#34;} 32253
</code></pre><p>New</p><pre tabindex="0"><code>+# HELP logging_buffer_files File count
+# TYPE logging_buffer_files gauge
+logging_buffer_files{entity=&#34;/buffers&#34;,host=&#34;all-to-file-fluentd-0&#34;} 2
+# HELP logging_buffer_size_bytes Disk space used
+# TYPE logging_buffer_size_bytes gauge
+logging_buffer_size_bytes{entity=&#34;/buffers&#34;,host=&#34;all-to-file-fluentd-0&#34;} 32253
</code></pre><h2 id="other-improvements">Other improvements</h2><ul>
<li>You can now configure the resources of the buffer metrics sidecar.</li><li>You can now rerun failed configuration checks if there is no configcheck pod.</li><li>The <a href="/docs/configuration/plugins/outputs/elasticsearch/">Fluentd ElasticSearch output</a> now supports the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.13/index-templates.html">composable index template</a> format. To use it, set the <code>use_legacy_template</code> option to <code>false</code>.</li><li>The metrics for the syslog-ng forwarder are now exported using <a href="https://github.com/axoflow/axosyslog-metrics-exporter">axosyslog-metrics-exporter</a>.</li></ul><h3 id="image-and-dependency-updates-1">Image and dependency updates</h3><p>For the list of images used in Logging operator, see <a href="/docs/image-versions/">Images used by Logging operator</a>.</p><p>Fluentd images with versions <code>v1.14</code> and <code>v1.15</code> are now EOL due to the fact they are based on ruby 2.7 which is EOL as well.</p><p>The currently supported image is <a href="https://github.com/kube-logging/fluentd-images/tree/main/v1.15-ruby3">v1.15-ruby3</a> and build configuration for <a href="https://github.com/kube-logging/fluentd-images/tree/main/v1.15-staging">v1.15-staging</a> is available for staging experimental changes.</p></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none">
<div class="container-fluid mx-sm-5">
<div class="row">
<div class="col-6 col-sm-4 text-xs-center order-sm-2">
</div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
<a class="text-white" target="_blank" rel="noopener" href="https://github.com/kube-logging/logging-operator" aria-label="GitHub">
<i class="fab fa-github"></i>
</a>
</li><li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
<a class="text-white" target="_blank" rel="noopener" href="/docs/community/" aria-label="Slack">
<i class="fab fa-slack"></i>
</a>
</li><li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Discord" aria-label="Discord">
<a class="text-white" target="_blank" rel="noopener" href="https://discord.gg/9ACY4RDsYN" aria-label="Discord">
<i class="fab fa-discord"></i>
</a>
</li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2">
<small class="text-white"><a class="text-white" href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a> | </small>
<small class="text-white">&copy; 2024 kube-logging authors | All Rights Reserved</small>
</div></div></div></footer></div><script src="/js/main.min.1b1fdad69306b68b100386e51fceb41fd37721de6a09b1df0495f948dfa59ee7.js" integrity="sha256-Gx/a1pMGtosQA4blH860H9N3Id5qCbHfBJX5SN+lnuc=" crossorigin="anonymous"></script>
<script src='/js/prism.js'></script>
<script src='/js/tabpane-persist.js'></script>
<script src="/js/tocbot.min.js"></script>
<script type="text/javascript">tocbot.init({tocSelector:".td-toc",contentSelector:".td-content",headingSelector:"h2, h3, h4",ignoreHiddenElements:!0})</script>
<script>(function(){var e=document.querySelector("#td-section-nav");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>
</body></html>